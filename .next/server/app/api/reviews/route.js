"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/reviews/route";
exports.ids = ["app/api/reviews/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Froute&page=%2Fapi%2Freviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Froute.ts&appDir=D%3A%5Cmobile%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmobile&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Froute&page=%2Fapi%2Freviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Froute.ts&appDir=D%3A%5Cmobile%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmobile&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_mobile_app_api_reviews_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/reviews/route.ts */ \"(rsc)/./app/api/reviews/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/reviews/route\",\n        pathname: \"/api/reviews\",\n        filename: \"route\",\n        bundlePath: \"app/api/reviews/route\"\n    },\n    resolvedPagePath: \"D:\\\\mobile\\\\app\\\\api\\\\reviews\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_mobile_app_api_reviews_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/reviews/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXZpZXdzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZXZpZXdzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmV2aWV3cyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDbW9iaWxlJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDbW9iaWxlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ1Q7QUFDcEU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kby1hZ2VuY3kvPzBiZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcbW9iaWxlXFxcXGFwcFxcXFxhcGlcXFxccmV2aWV3c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmV2aWV3cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Jldmlld3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Jldmlld3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxtb2JpbGVcXFxcYXBwXFxcXGFwaVxcXFxyZXZpZXdzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Jldmlld3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Froute&page=%2Fapi%2Freviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Froute.ts&appDir=D%3A%5Cmobile%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmobile&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/reviews/route.ts":
/*!**********************************!*\
  !*** ./app/api/reviews/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_serverUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/serverUtils */ \"(rsc)/./lib/serverUtils.ts\");\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const executorId = searchParams.get(\"executorId\");\n        const clientId = searchParams.get(\"clientId\");\n        const reviewedId = searchParams.get(\"reviewedId\") // Новый параметр для фильтрации по тому, на кого оставили отзыв\n        ;\n        const rating = searchParams.get(\"rating\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"50\");\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const where = {};\n        if (executorId) {\n            where.executorId = parseInt(executorId);\n        }\n        if (clientId) {\n            where.clientId = parseInt(clientId);\n        }\n        if (reviewedId) {\n            where.reviewedId = parseInt(reviewedId);\n        }\n        if (rating) {\n            where.rating = parseInt(rating);\n        }\n        const reviews = await prisma.review.findMany({\n            where,\n            include: {\n                client: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                },\n                executor: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                },\n                order: {\n                    select: {\n                        id: true,\n                        serviceDescription: true,\n                        category: {\n                            select: {\n                                name: true\n                            }\n                        }\n                    }\n                }\n            },\n            take: limit,\n            skip: (page - 1) * limit,\n            orderBy: {\n                createdAt: \"desc\"\n            }\n        });\n        const total = await prisma.review.count({\n            where\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            reviews,\n            pagination: {\n                page,\n                limit,\n                total,\n                pages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching reviews:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch reviews\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        // Проверяем авторизацию\n        const authHeader = request.headers.get(\"authorization\");\n        if (!authHeader) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const userData = (0,_lib_serverUtils__WEBPACK_IMPORTED_MODULE_2__.getUserDataFromToken)(authHeader);\n        if (!userData) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        console.log(\"API Reviews - Полученное тело запроса:\", body);\n        const { orderId, rating, comment, reviewerId, reviewedId, clientId, executorId } = body;\n        console.log(\"API Reviews - Извлеченные данные:\", {\n            orderId,\n            rating,\n            comment,\n            reviewerId,\n            reviewedId,\n            clientId,\n            executorId\n        });\n        // Валидация обязательных полей\n        if (!orderId || !rating || !reviewerId || !reviewedId || !clientId || !executorId) {\n            console.log(\"API Reviews - Ошибка валидации:\", {\n                orderId: !!orderId,\n                rating: !!rating,\n                reviewerId: !!reviewerId,\n                reviewedId: !!reviewedId,\n                clientId: !!clientId,\n                executorId: !!executorId\n            });\n            console.log(\"API Reviews - Значения полей:\", {\n                orderId,\n                rating,\n                reviewerId,\n                reviewedId,\n                clientId,\n                executorId\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Все обязательные поля должны быть заполнены\"\n            }, {\n                status: 400\n            });\n        }\n        // Проверяем, что рейтинг в допустимом диапазоне\n        if (rating < 1 || rating > 5) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Рейтинг должен быть от 1 до 5\"\n            }, {\n                status: 400\n            });\n        }\n        // Проверяем, существует ли заказ\n        const order = await prisma.order.findUnique({\n            where: {\n                id: parseInt(orderId)\n            }\n        });\n        if (!order) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Заказ не найден\"\n            }, {\n                status: 404\n            });\n        }\n        // Проверяем, что заказ завершен\n        if (order.status !== \"completed\") {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Отзыв можно оставить только для завершенного заказа\"\n            }, {\n                status: 400\n            });\n        }\n        // Проверяем, что у заказа есть исполнитель\n        if (!order.executorId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"У заказа нет назначенного исполнителя\"\n            }, {\n                status: 400\n            });\n        }\n        // Проверяем, не оставлял ли уже пользователь отзыв на этого участника заказа\n        const existingReview = await prisma.review.findFirst({\n            where: {\n                orderId: parseInt(orderId),\n                reviewerId: parseInt(reviewerId),\n                reviewedId: parseInt(reviewedId)\n            }\n        });\n        if (existingReview) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Вы уже оставляли отзыв на этого участника заказа\"\n            }, {\n                status: 400\n            });\n        }\n        // Создаем отзыв\n        console.log(\"API Reviews - Создание отзыва с данными:\", {\n            orderId: parseInt(orderId),\n            clientId: parseInt(clientId),\n            executorId: parseInt(executorId),\n            reviewerId: parseInt(reviewerId),\n            reviewedId: parseInt(reviewedId),\n            rating: parseInt(rating),\n            comment\n        });\n        const newReview = await prisma.review.create({\n            data: {\n                orderId: parseInt(orderId),\n                clientId: parseInt(clientId),\n                executorId: parseInt(executorId),\n                reviewerId: parseInt(reviewerId),\n                reviewedId: parseInt(reviewedId),\n                rating: parseInt(rating),\n                comment\n            },\n            include: {\n                client: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                },\n                executor: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                },\n                reviewer: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                },\n                reviewed: {\n                    select: {\n                        id: true,\n                        name: true\n                    }\n                }\n            }\n        });\n        // Обновляем рейтинг того, на кого оставили отзыв\n        const reviewedUser = await prisma.user.findUnique({\n            where: {\n                id: parseInt(reviewedId)\n            },\n            include: {\n                executorProfile: true\n            }\n        });\n        if (reviewedUser) {\n            // Получаем все отзывы на этого пользователя\n            const userReviews = await prisma.review.findMany({\n                where: {\n                    reviewedId: parseInt(reviewedId)\n                },\n                select: {\n                    rating: true\n                }\n            });\n            const totalRating = userReviews.reduce((sum, review)=>sum + review.rating, 0);\n            const averageRating = totalRating / userReviews.length;\n            if (reviewedUser.role === \"executor\" && reviewedUser.executorProfile) {\n                // Обновляем рейтинг исполнителя\n                await prisma.executorProfile.update({\n                    where: {\n                        userId: parseInt(reviewedId)\n                    },\n                    data: {\n                        rating: averageRating,\n                        reviewsCount: userReviews.length\n                    }\n                });\n            } else if (reviewedUser.role === \"client\") {\n                // Обновляем рейтинг клиента\n                await prisma.user.update({\n                    where: {\n                        id: parseInt(reviewedId)\n                    },\n                    data: {\n                        clientRating: averageRating,\n                        clientReviewsCount: userReviews.length\n                    }\n                });\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            message: \"Отзыв успешно создан\",\n            review: newReview\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error creating review:\", error);\n        console.error(\"Error details:\", {\n            message: error instanceof Error ? error.message : \"Unknown error\",\n            stack: error instanceof Error ? error.stack : undefined\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Ошибка при создании отзыва\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O3dCQUNKN0MsUUFBUXVEO3dCQUNSSyxjQUFjVCxZQUFZSyxNQUFNO29CQUNsQztnQkFDRjtZQUNGLE9BQU8sSUFBSVIsYUFBYVMsSUFBSSxLQUFLLFVBQVU7Z0JBQ3pDLDRCQUE0QjtnQkFDNUIsTUFBTW5FLE9BQU8yRCxJQUFJLENBQUNTLE1BQU0sQ0FBQztvQkFDdkJ0RCxPQUFPO3dCQUFFTyxJQUFJVCxTQUFTSDtvQkFBWTtvQkFDbEM4QyxNQUFNO3dCQUNKZ0IsY0FBY047d0JBQ2RPLG9CQUFvQlgsWUFBWUssTUFBTTtvQkFDeEM7Z0JBQ0Y7WUFDRjtRQUNGO1FBRUEsT0FBT3JFLGtGQUFZQSxDQUFDb0MsSUFBSSxDQUFDO1lBQ3ZCd0MsU0FBUztZQUNUQyxTQUFTO1lBQ1QxRCxRQUFRcUM7UUFDVixHQUFHO1lBQUViLFFBQVE7UUFBSTtJQUVuQixFQUFFLE9BQU9GLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeENDLFFBQVFELEtBQUssQ0FBQyxrQkFBa0I7WUFDOUJvQyxTQUFTcEMsaUJBQWlCcUMsUUFBUXJDLE1BQU1vQyxPQUFPLEdBQUc7WUFDbERFLE9BQU90QyxpQkFBaUJxQyxRQUFRckMsTUFBTXNDLEtBQUssR0FBR0M7UUFDaEQ7UUFDQSxPQUFPaEYsa0ZBQVlBLENBQUNvQyxJQUFJLENBQ3RCO1lBQUVLLE9BQU87UUFBNkIsR0FDdEM7WUFBRUUsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kby1hZ2VuY3kvLi9hcHAvYXBpL3Jldmlld3Mvcm91dGUudHM/NWE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuaW1wb3J0IHsgZ2V0VXNlckRhdGFGcm9tVG9rZW4gfSBmcm9tICcuLi8uLi8uLi9saWIvc2VydmVyVXRpbHMnXG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBleGVjdXRvcklkID0gc2VhcmNoUGFyYW1zLmdldCgnZXhlY3V0b3JJZCcpXG4gICAgY29uc3QgY2xpZW50SWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjbGllbnRJZCcpXG4gICAgY29uc3QgcmV2aWV3ZWRJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3Jldmlld2VkSWQnKSAvLyDQndC+0LLRi9C5INC/0LDRgNCw0LzQtdGC0YAg0LTQu9GPINGE0LjQu9GM0YLRgNCw0YbQuNC4INC/0L4g0YLQvtC80YMsINC90LAg0LrQvtCz0L4g0L7RgdGC0LDQstC40LvQuCDQvtGC0LfRi9CyXG4gICAgY29uc3QgcmF0aW5nID0gc2VhcmNoUGFyYW1zLmdldCgncmF0aW5nJylcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzUwJylcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJylcblxuICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7fVxuICAgIFxuICAgIGlmIChleGVjdXRvcklkKSB7XG4gICAgICB3aGVyZS5leGVjdXRvcklkID0gcGFyc2VJbnQoZXhlY3V0b3JJZClcbiAgICB9XG4gICAgXG4gICAgaWYgKGNsaWVudElkKSB7XG4gICAgICB3aGVyZS5jbGllbnRJZCA9IHBhcnNlSW50KGNsaWVudElkKVxuICAgIH1cblxuICAgIGlmIChyZXZpZXdlZElkKSB7XG4gICAgICB3aGVyZS5yZXZpZXdlZElkID0gcGFyc2VJbnQocmV2aWV3ZWRJZClcbiAgICB9XG4gICAgXG4gICAgaWYgKHJhdGluZykge1xuICAgICAgd2hlcmUucmF0aW5nID0gcGFyc2VJbnQocmF0aW5nKVxuICAgIH1cblxuICAgIGNvbnN0IHJldmlld3MgPSBhd2FpdCBwcmlzbWEucmV2aWV3LmZpbmRNYW55KHtcbiAgICAgIHdoZXJlLFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgbmFtZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXhlY3V0b3I6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgbmFtZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXI6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgc2VydmljZURlc2NyaXB0aW9uOiB0cnVlLFxuICAgICAgICAgICAgY2F0ZWdvcnk6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGFrZTogbGltaXQsXG4gICAgICBza2lwOiAocGFnZSAtIDEpICogbGltaXQsXG4gICAgICBvcmRlckJ5OiB7XG4gICAgICAgIGNyZWF0ZWRBdDogJ2Rlc2MnXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgcHJpc21hLnJldmlldy5jb3VudCh7IHdoZXJlIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgcmV2aWV3cyxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgcGFnZSxcbiAgICAgICAgbGltaXQsXG4gICAgICAgIHRvdGFsLFxuICAgICAgICBwYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpXG4gICAgICB9XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZXZpZXdzOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcmV2aWV3cycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INCw0LLRgtC+0YDQuNC30LDRhtC40Y5cbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYXV0aG9yaXphdGlvbicpXG4gICAgaWYgKCFhdXRoSGVhZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJEYXRhID0gZ2V0VXNlckRhdGFGcm9tVG9rZW4oYXV0aEhlYWRlcilcbiAgICBpZiAoIXVzZXJEYXRhKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnNvbGUubG9nKCdBUEkgUmV2aWV3cyAtINCf0L7Qu9GD0YfQtdC90L3QvtC1INGC0LXQu9C+INC30LDQv9GA0L7RgdCwOicsIGJvZHkpXG4gICAgXG4gICAgY29uc3QgeyBvcmRlcklkLCByYXRpbmcsIGNvbW1lbnQsIHJldmlld2VySWQsIHJldmlld2VkSWQsIGNsaWVudElkLCBleGVjdXRvcklkIH0gPSBib2R5XG5cbiAgICBjb25zb2xlLmxvZygnQVBJIFJldmlld3MgLSDQmNC30LLQu9C10YfQtdC90L3Ri9C1INC00LDQvdC90YvQtTonLCB7XG4gICAgICBvcmRlcklkLCByYXRpbmcsIGNvbW1lbnQsIHJldmlld2VySWQsIHJldmlld2VkSWQsIGNsaWVudElkLCBleGVjdXRvcklkXG4gICAgfSlcblxuICAgIC8vINCS0LDQu9C40LTQsNGG0LjRjyDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0YUg0L/QvtC70LXQuVxuICAgIGlmICghb3JkZXJJZCB8fCAhcmF0aW5nIHx8ICFyZXZpZXdlcklkIHx8ICFyZXZpZXdlZElkIHx8ICFjbGllbnRJZCB8fCAhZXhlY3V0b3JJZCkge1xuICAgICAgY29uc29sZS5sb2coJ0FQSSBSZXZpZXdzIC0g0J7RiNC40LHQutCwINCy0LDQu9C40LTQsNGG0LjQuDonLCB7XG4gICAgICAgIG9yZGVySWQ6ICEhb3JkZXJJZCxcbiAgICAgICAgcmF0aW5nOiAhIXJhdGluZyxcbiAgICAgICAgcmV2aWV3ZXJJZDogISFyZXZpZXdlcklkLFxuICAgICAgICByZXZpZXdlZElkOiAhIXJldmlld2VkSWQsXG4gICAgICAgIGNsaWVudElkOiAhIWNsaWVudElkLFxuICAgICAgICBleGVjdXRvcklkOiAhIWV4ZWN1dG9ySWRcbiAgICAgIH0pXG4gICAgICBjb25zb2xlLmxvZygnQVBJIFJldmlld3MgLSDQl9C90LDRh9C10L3QuNGPINC/0L7Qu9C10Lk6Jywge1xuICAgICAgICBvcmRlcklkLFxuICAgICAgICByYXRpbmcsXG4gICAgICAgIHJldmlld2VySWQsXG4gICAgICAgIHJldmlld2VkSWQsXG4gICAgICAgIGNsaWVudElkLFxuICAgICAgICBleGVjdXRvcklkXG4gICAgICB9KVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn0JLRgdC1INC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQv9C+0LvRjyDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0LfQsNC/0L7Qu9C90LXQvdGLJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINGH0YLQviDRgNC10LnRgtC40L3QsyDQsiDQtNC+0L/Rg9GB0YLQuNC80L7QvCDQtNC40LDQv9Cw0LfQvtC90LVcbiAgICBpZiAocmF0aW5nIDwgMSB8fCByYXRpbmcgPiA1KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfQoNC10LnRgtC40L3QsyDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0L7RgiAxINC00L4gNScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8LCDRgdGD0YnQtdGB0YLQstGD0LXRgiDQu9C4INC30LDQutCw0LdcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXJzZUludChvcmRlcklkKSB9XG4gICAgfSlcblxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ9CX0LDQutCw0Lcg0L3QtSDQvdCw0LnQtNC10L0nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0YfRgtC+INC30LDQutCw0Lcg0LfQsNCy0LXRgNGI0LXQvVxuICAgIGlmIChvcmRlci5zdGF0dXMgIT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfQntGC0LfRi9CyINC80L7QttC90L4g0L7RgdGC0LDQstC40YLRjCDRgtC+0LvRjNC60L4g0LTQu9GPINC30LDQstC10YDRiNC10L3QvdC+0LPQviDQt9Cw0LrQsNC30LAnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCwg0YfRgtC+INGDINC30LDQutCw0LfQsCDQtdGB0YLRjCDQuNGB0L/QvtC70L3QuNGC0LXQu9GMXG4gICAgaWYgKCFvcmRlci5leGVjdXRvcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfQoyDQt9Cw0LrQsNC30LAg0L3QtdGCINC90LDQt9C90LDRh9C10L3QvdC+0LPQviDQuNGB0L/QvtC70L3QuNGC0LXQu9GPJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyDQn9GA0L7QstC10YDRj9C10LwsINC90LUg0L7RgdGC0LDQstC70Y/QuyDQu9C4INGD0LbQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0L7RgtC30YvQsiDQvdCwINGN0YLQvtCz0L4g0YPRh9Cw0YHRgtC90LjQutCwINC30LDQutCw0LfQsFxuICAgIGNvbnN0IGV4aXN0aW5nUmV2aWV3ID0gYXdhaXQgcHJpc21hLnJldmlldy5maW5kRmlyc3Qoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgb3JkZXJJZDogcGFyc2VJbnQob3JkZXJJZCksXG4gICAgICAgIHJldmlld2VySWQ6IHBhcnNlSW50KHJldmlld2VySWQpLFxuICAgICAgICByZXZpZXdlZElkOiBwYXJzZUludChyZXZpZXdlZElkKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdSZXZpZXcpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ9CS0Ysg0YPQttC1INC+0YHRgtCw0LLQu9GP0LvQuCDQvtGC0LfRi9CyINC90LAg0Y3RgtC+0LPQviDRg9GH0LDRgdGC0L3QuNC60LAg0LfQsNC60LDQt9CwJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyDQodC+0LfQtNCw0LXQvCDQvtGC0LfRi9CyXG4gICAgY29uc29sZS5sb2coJ0FQSSBSZXZpZXdzIC0g0KHQvtC30LTQsNC90LjQtSDQvtGC0LfRi9Cy0LAg0YEg0LTQsNC90L3Ri9C80Lg6Jywge1xuICAgICAgb3JkZXJJZDogcGFyc2VJbnQob3JkZXJJZCksXG4gICAgICBjbGllbnRJZDogcGFyc2VJbnQoY2xpZW50SWQpLFxuICAgICAgZXhlY3V0b3JJZDogcGFyc2VJbnQoZXhlY3V0b3JJZCksXG4gICAgICByZXZpZXdlcklkOiBwYXJzZUludChyZXZpZXdlcklkKSxcbiAgICAgIHJldmlld2VkSWQ6IHBhcnNlSW50KHJldmlld2VkSWQpLFxuICAgICAgcmF0aW5nOiBwYXJzZUludChyYXRpbmcpLFxuICAgICAgY29tbWVudFxuICAgIH0pXG5cbiAgICBjb25zdCBuZXdSZXZpZXcgPSBhd2FpdCBwcmlzbWEucmV2aWV3LmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9yZGVySWQ6IHBhcnNlSW50KG9yZGVySWQpLFxuICAgICAgICBjbGllbnRJZDogcGFyc2VJbnQoY2xpZW50SWQpLFxuICAgICAgICBleGVjdXRvcklkOiBwYXJzZUludChleGVjdXRvcklkKSxcbiAgICAgICAgcmV2aWV3ZXJJZDogcGFyc2VJbnQocmV2aWV3ZXJJZCksXG4gICAgICAgIHJldmlld2VkSWQ6IHBhcnNlSW50KHJldmlld2VkSWQpLFxuICAgICAgICByYXRpbmc6IHBhcnNlSW50KHJhdGluZyksXG4gICAgICAgIGNvbW1lbnRcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNsaWVudDoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBleGVjdXRvcjoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXZpZXdlcjoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXZpZXdlZDoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgNC10LnRgtC40L3QsyDRgtC+0LPQviwg0L3QsCDQutC+0LPQviDQvtGB0YLQsNCy0LjQu9C4INC+0YLQt9GL0LJcbiAgICBjb25zdCByZXZpZXdlZFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXJzZUludChyZXZpZXdlZElkKSB9LFxuICAgICAgaW5jbHVkZTogeyBleGVjdXRvclByb2ZpbGU6IHRydWUgfVxuICAgIH0pXG5cbiAgICBpZiAocmV2aWV3ZWRVc2VyKSB7XG4gICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INCy0YHQtSDQvtGC0LfRi9Cy0Ysg0L3QsCDRjdGC0L7Qs9C+INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgICAgY29uc3QgdXNlclJldmlld3MgPSBhd2FpdCBwcmlzbWEucmV2aWV3LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgcmV2aWV3ZWRJZDogcGFyc2VJbnQocmV2aWV3ZWRJZCkgfSxcbiAgICAgICAgc2VsZWN0OiB7IHJhdGluZzogdHJ1ZSB9XG4gICAgICB9KVxuXG4gICAgICBjb25zdCB0b3RhbFJhdGluZyA9IHVzZXJSZXZpZXdzLnJlZHVjZSgoc3VtLCByZXZpZXcpID0+IHN1bSArIHJldmlldy5yYXRpbmcsIDApXG4gICAgICBjb25zdCBhdmVyYWdlUmF0aW5nID0gdG90YWxSYXRpbmcgLyB1c2VyUmV2aWV3cy5sZW5ndGhcblxuICAgICAgaWYgKHJldmlld2VkVXNlci5yb2xlID09PSAnZXhlY3V0b3InICYmIHJldmlld2VkVXNlci5leGVjdXRvclByb2ZpbGUpIHtcbiAgICAgICAgLy8g0J7QsdC90L7QstC70Y/QtdC8INGA0LXQudGC0LjQvdCzINC40YHQv9C+0LvQvdC40YLQtdC70Y9cbiAgICAgICAgYXdhaXQgcHJpc21hLmV4ZWN1dG9yUHJvZmlsZS51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IHVzZXJJZDogcGFyc2VJbnQocmV2aWV3ZWRJZCkgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICByYXRpbmc6IGF2ZXJhZ2VSYXRpbmcsXG4gICAgICAgICAgICByZXZpZXdzQ291bnQ6IHVzZXJSZXZpZXdzLmxlbmd0aFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAocmV2aWV3ZWRVc2VyLnJvbGUgPT09ICdjbGllbnQnKSB7XG4gICAgICAgIC8vINCe0LHQvdC+0LLQu9GP0LXQvCDRgNC10LnRgtC40L3QsyDQutC70LjQtdC90YLQsFxuICAgICAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiBwYXJzZUludChyZXZpZXdlZElkKSB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNsaWVudFJhdGluZzogYXZlcmFnZVJhdGluZyxcbiAgICAgICAgICAgIGNsaWVudFJldmlld3NDb3VudDogdXNlclJldmlld3MubGVuZ3RoXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ9Ce0YLQt9GL0LIg0YPRgdC/0LXRiNC90L4g0YHQvtC30LTQsNC9JyxcbiAgICAgIHJldmlldzogbmV3UmV2aWV3XG4gICAgfSwgeyBzdGF0dXM6IDIwMSB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcmV2aWV3OicsIGVycm9yKVxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6Jywge1xuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkXG4gICAgfSlcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAn0J7RiNC40LHQutCwINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4INC+0YLQt9GL0LLQsCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlByaXNtYUNsaWVudCIsImdldFVzZXJEYXRhRnJvbVRva2VuIiwicHJpc21hIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImV4ZWN1dG9ySWQiLCJnZXQiLCJjbGllbnRJZCIsInJldmlld2VkSWQiLCJyYXRpbmciLCJsaW1pdCIsInBhcnNlSW50IiwicGFnZSIsIndoZXJlIiwicmV2aWV3cyIsInJldmlldyIsImZpbmRNYW55IiwiaW5jbHVkZSIsImNsaWVudCIsInNlbGVjdCIsImlkIiwibmFtZSIsImV4ZWN1dG9yIiwib3JkZXIiLCJzZXJ2aWNlRGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsInRha2UiLCJza2lwIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRvdGFsIiwiY291bnQiLCJqc29uIiwicGFnaW5hdGlvbiIsInBhZ2VzIiwiTWF0aCIsImNlaWwiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiLCJQT1NUIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJ1c2VyRGF0YSIsImJvZHkiLCJsb2ciLCJvcmRlcklkIiwiY29tbWVudCIsInJldmlld2VySWQiLCJmaW5kVW5pcXVlIiwiZXhpc3RpbmdSZXZpZXciLCJmaW5kRmlyc3QiLCJuZXdSZXZpZXciLCJjcmVhdGUiLCJkYXRhIiwicmV2aWV3ZXIiLCJyZXZpZXdlZCIsInJldmlld2VkVXNlciIsInVzZXIiLCJleGVjdXRvclByb2ZpbGUiLCJ1c2VyUmV2aWV3cyIsInRvdGFsUmF0aW5nIiwicmVkdWNlIiwic3VtIiwiYXZlcmFnZVJhdGluZyIsImxlbmd0aCIsInJvbGUiLCJ1cGRhdGUiLCJ1c2VySWQiLCJyZXZpZXdzQ291bnQiLCJjbGllbnRSYXRpbmciLCJjbGllbnRSZXZpZXdzQ291bnQiLCJzdWNjZXNzIiwibWVzc2FnZSIsIkVycm9yIiwic3RhY2siLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/reviews/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/serverUtils.ts":
/*!****************************!*\
  !*** ./lib/serverUtils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserDataFromToken: () => (/* binding */ getUserDataFromToken),\n/* harmony export */   safeBase64Decode: () => (/* binding */ safeBase64Decode)\n/* harmony export */ });\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! buffer */ \"buffer\");\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_0__);\n\n// Безопасное декодирование из base64 для UTF-8 строк на сервере\nfunction safeBase64Decode(str) {\n    try {\n        // Сначала декодируем из base64, затем из UTF-8\n        return buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(str, \"base64\").toString(\"utf-8\");\n    } catch (error) {\n        console.error(\"Error decoding from base64:\", error);\n        // Fallback: используем простой Buffer для ASCII строк\n        return buffer__WEBPACK_IMPORTED_MODULE_0__.Buffer.from(str, \"base64\").toString(\"ascii\");\n    }\n}\n// Извлечение данных пользователя из токена авторизации\nfunction getUserDataFromToken(authHeader) {\n    if (!authHeader) {\n        return null;\n    }\n    try {\n        const token = authHeader.replace(\"Bearer \", \"\");\n        const userDataString = safeBase64Decode(token);\n        return JSON.parse(userDataString);\n    } catch (error) {\n        console.error(\"Error parsing user data from token:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2VydmVyVXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUErQjtBQUUvQixnRUFBZ0U7QUFDekQsU0FBU0MsaUJBQWlCQyxHQUFXO0lBQzFDLElBQUk7UUFDRiwrQ0FBK0M7UUFDL0MsT0FBT0YsMENBQU1BLENBQUNHLElBQUksQ0FBQ0QsS0FBSyxVQUFVRSxRQUFRLENBQUM7SUFDN0MsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLHNEQUFzRDtRQUN0RCxPQUFPTCwwQ0FBTUEsQ0FBQ0csSUFBSSxDQUFDRCxLQUFLLFVBQVVFLFFBQVEsQ0FBQztJQUM3QztBQUNGO0FBRUEsdURBQXVEO0FBQ2hELFNBQVNHLHFCQUFxQkMsVUFBeUI7SUFDNUQsSUFBSSxDQUFDQSxZQUFZO1FBQ2YsT0FBTztJQUNUO0lBRUEsSUFBSTtRQUNGLE1BQU1DLFFBQVFELFdBQVdFLE9BQU8sQ0FBQyxXQUFXO1FBQzVDLE1BQU1DLGlCQUFpQlYsaUJBQWlCUTtRQUN4QyxPQUFPRyxLQUFLQyxLQUFLLENBQUNGO0lBQ3BCLEVBQUUsT0FBT04sT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsdUNBQXVDQTtRQUNyRCxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2RvLWFnZW5jeS8uL2xpYi9zZXJ2ZXJVdGlscy50cz85YWViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJ1ZmZlciB9IGZyb20gJ2J1ZmZlcidcclxuXHJcbi8vINCR0LXQt9C+0L/QsNGB0L3QvtC1INC00LXQutC+0LTQuNGA0L7QstCw0L3QuNC1INC40LcgYmFzZTY0INC00LvRjyBVVEYtOCDRgdGC0YDQvtC6INC90LAg0YHQtdGA0LLQtdGA0LVcclxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVCYXNlNjREZWNvZGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHRyeSB7XHJcbiAgICAvLyDQodC90LDRh9Cw0LvQsCDQtNC10LrQvtC00LjRgNGD0LXQvCDQuNC3IGJhc2U2NCwg0LfQsNGC0LXQvCDQuNC3IFVURi04XHJcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0Zi04JylcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVjb2RpbmcgZnJvbSBiYXNlNjQ6JywgZXJyb3IpXHJcbiAgICAvLyBGYWxsYmFjazog0LjRgdC/0L7Qu9GM0LfRg9C10Lwg0L/RgNC+0YHRgtC+0LkgQnVmZmVyINC00LvRjyBBU0NJSSDRgdGC0YDQvtC6XHJcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oc3RyLCAnYmFzZTY0JykudG9TdHJpbmcoJ2FzY2lpJylcclxuICB9XHJcbn1cclxuXHJcbi8vINCY0LfQstC70LXRh9C10L3QuNC1INC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LjQtyDRgtC+0LrQtdC90LAg0LDQstGC0L7RgNC40LfQsNGG0LjQuFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckRhdGFGcm9tVG9rZW4oYXV0aEhlYWRlcjogc3RyaW5nIHwgbnVsbCkge1xyXG4gIGlmICghYXV0aEhlYWRlcikge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGF1dGhIZWFkZXIucmVwbGFjZSgnQmVhcmVyICcsICcnKVxyXG4gICAgY29uc3QgdXNlckRhdGFTdHJpbmcgPSBzYWZlQmFzZTY0RGVjb2RlKHRva2VuKVxyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UodXNlckRhdGFTdHJpbmcpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgdXNlciBkYXRhIGZyb20gdG9rZW46JywgZXJyb3IpXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkJ1ZmZlciIsInNhZmVCYXNlNjREZWNvZGUiLCJzdHIiLCJmcm9tIiwidG9TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJnZXRVc2VyRGF0YUZyb21Ub2tlbiIsImF1dGhIZWFkZXIiLCJ0b2tlbiIsInJlcGxhY2UiLCJ1c2VyRGF0YVN0cmluZyIsIkpTT04iLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/serverUtils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Froute&page=%2Fapi%2Freviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Froute.ts&appDir=D%3A%5Cmobile%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cmobile&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();